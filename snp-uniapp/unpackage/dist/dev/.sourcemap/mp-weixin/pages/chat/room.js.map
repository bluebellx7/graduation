{"version":3,"sources":["webpack:///E:/graduation/snp-uniapp/main.js","webpack:///E:/graduation/snp-uniapp/pages/chat/room.vue?4411","webpack:///E:/graduation/snp-uniapp/pages/chat/room.vue?4c24","webpack:///E:/graduation/snp-uniapp/pages/chat/room.vue?eaa8","webpack:///E:/graduation/snp-uniapp/pages/chat/room.vue?df4e","webpack:///E:/graduation/snp-uniapp/pages/chat/room.vue","webpack:///E:/graduation/snp-uniapp/pages/chat/room.vue?f8f5","webpack:///E:/graduation/snp-uniapp/pages/chat/room.vue?7c85"],"names":["createPage","Page","data","conversationActive","toUserId","toUserInfo","userInfo","headUrl","nextReqMessageID","count","isCompleted","msgList","TIM","textMsg","isHistoryLoading","scrollAnimation","scrollTop","scrollToView","msgImgList","myuid","RECORDER","uni","getRecorderManager","isVoice","voiceTis","recordTis","recording","willStop","initPoint","identifier","Y","recordTimer","recordLength","AUDIO","createInnerAudioContext","playMsgid","VoiceTimer","popupLayerClass","hideMore","hideEmoji","emojiList","$commen","onlineEmoji","windowsState","redenvelopeData","rid","from","face","blessing","money","computed","currentMessageList","state","watch","newVal","oldVal","screenMsg","onLoad","option","console","log","getStorageSync","$store","$TIM","getMsgList","onEnded","res","onStart","e","recordBegin","onStop","recordEnd","onShow","onUnload","promise","tim","setMessageRead","conversationID","then","imResponse","catch","imError","warn","methods","tohomepage","userId","navigateTo","url","nodesFliter","str","nodeStr","timeFliter","timer","timeData","Date","dateTimeFliter","ID","length","$nextTick","loadHistory","getMessageList","commit","messageList","setPicSize","content","maxW","upx2px","maxH","w","h","scale","showMore","openDrawer","hideDrawer","setTimeout","chooseImage","getImage","camera","handRedEnvelopes","type","sourceType","sizeType","success","i","getImageInfo","src","tempFilePaths","image","width","height","msg","sendMsg","chooseEmoji","addEmoji","em","alt","textareaFocus","sendText","replaceEmoji","text","replacedStr","replace","item","index","row","j","EM","onlinePath","imgstr","message","createTextMessage","to","conversationType","payload","pomise","sendMessage","addTextMsg","push","addVoiceMsg","addImgMsg","addRedEnvelopeMsg","addSystemTextMsg","addSystemRedEnvelopeMsg","openRedEnvelope","showLoading","title","isReceived","sendSystemMsg","userinfo","uid","username","JSON","stringify","hideLoading","closeRedEnvelope","lastid","id","toDetails","showPic","previewImage","indicator","current","urls","playVoice","play","voiceBegin","touches","clientY","start","format","setInterval","voiceCancel","stop","voiceIng","touche","voiceEnd","clearInterval","tempFilePath","min","parseInt","sec","switchVoice","discard"],"mappings":"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","file":"pages/chat/room.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/chat/room.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./room.vue?vue&type=template&id=225dbbf6&\"\nvar renderjs\nimport script from \"./room.vue?vue&type=script&lang=js&\"\nexport * from \"./room.vue?vue&type=script&lang=js&\"\nimport style0 from \"./room.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('225dbbf6')) {\n      api.createRecord('225dbbf6', component.options)\n    } else {\n      api.reload('225dbbf6', component.options)\n    }\n    module.hot.accept(\"./room.vue?vue&type=template&id=225dbbf6&\", function () {\n      api.rerender('225dbbf6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/graduation/snp-uniapp/pages/chat/room.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./room.vue?vue&type=template&id=225dbbf6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.msgList, function(item, index) {\n    var m0 = _vm.nodesFliter(item.payload.text)\n    var m1 = _vm.timeFliter(item.time)\n    var m2 = _vm.nodesFliter(item.payload.text)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0,\n      m1: m1,\n      m2: m2\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./room.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport userList from '../../commen/tim/user.js'\nimport {mapState} from \"vuex\";\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//TIM变量\n\t\t\tconversationActive:null,\n\t\t\ttoUserId:'',\n\t\t\ttoUserInfo:null,\n\t\t\tuserInfo:null,\n\t\t\theadUrl: null,\n\t\t\tnextReqMessageID:'',\n\t\t\tcount:15,\n\t\t\tisCompleted:'',\n\t\t\tmsgList:[],\n\t\t    TIM:null, \n\t\t\t\n\t\t\t\n\t\t\t//文字消息\n\t\t\ttextMsg:'',\n\t\t\t//消息列表\n\t\t\tisHistoryLoading:false,\n\t\t\tscrollAnimation:false,\n\t\t\tscrollTop:0,\n\t\t\tscrollToView:'',\n\t\t\n\t\t\tmsgImgList:[],\n\t\t\tmyuid:0,\n\t\t\t\n\t\t\t//录音相关参数\n\n\t\t\t//H5不能录音\n\t\t\tRECORDER:uni.getRecorderManager(),\n\n\t\t\tisVoice:false,\n\t\t\tvoiceTis:'按住 说话',\n\t\t\trecordTis:\"手指上滑 取消发送\",\n\t\t\trecording:false,\n\t\t\twillStop:false,\n\t\t\tinitPoint:{identifier:0,Y:0},\n\t\t\trecordTimer:null,\n\t\t\trecordLength:0,\n\t\t\t\n\t\t\t//播放语音相关参数\n\t\t\tAUDIO:uni.createInnerAudioContext(),\n\t\t\tplayMsgid:null,\n\t\t\tVoiceTimer:null,\n\t\t\t// 抽屉参数\n\t\t\tpopupLayerClass:'',\n\t\t\t// more参数\n\t\t\thideMore:true,\n\t\t\t//表情定义\n\t\t\thideEmoji:true,\n\t\t\temojiList:this.$commen.emojiList,\n\t\t\t//表情图片图床名称 ，由于我上传的第三方图床名称会有改变，所以有此数据来做对应，您实际应用中应该不需要\n\t\t\tonlineEmoji:{\"100.gif\":\"AbNQgA.gif\",\"101.gif\":\"AbN3ut.gif\",\"102.gif\":\"AbNM3d.gif\",\"103.gif\":\"AbN8DP.gif\",\"104.gif\":\"AbNljI.gif\",\"105.gif\":\"AbNtUS.gif\",\"106.gif\":\"AbNGHf.gif\",\"107.gif\":\"AbNYE8.gif\",\"108.gif\":\"AbNaCQ.gif\",\"109.gif\":\"AbNN4g.gif\",\"110.gif\":\"AbN0vn.gif\",\"111.gif\":\"AbNd3j.gif\",\"112.gif\":\"AbNsbV.gif\",\"113.gif\":\"AbNwgs.gif\",\"114.gif\":\"AbNrD0.gif\",\"115.gif\":\"AbNDuq.gif\",\"116.gif\":\"AbNg5F.gif\",\"117.gif\":\"AbN6ET.gif\",\"118.gif\":\"AbNcUU.gif\",\"119.gif\":\"AbNRC4.gif\",\"120.gif\":\"AbNhvR.gif\",\"121.gif\":\"AbNf29.gif\",\"122.gif\":\"AbNW8J.gif\",\"123.gif\":\"AbNob6.gif\",\"124.gif\":\"AbN5K1.gif\",\"125.gif\":\"AbNHUO.gif\",\"126.gif\":\"AbNIDx.gif\",\"127.gif\":\"AbN7VK.gif\",\"128.gif\":\"AbNb5D.gif\",\"129.gif\":\"AbNX2d.gif\",\"130.gif\":\"AbNLPe.gif\",\"131.gif\":\"AbNjxA.gif\",\"132.gif\":\"AbNO8H.gif\",\"133.gif\":\"AbNxKI.gif\",\"134.gif\":\"AbNzrt.gif\",\"135.gif\":\"AbU9Vf.gif\",\"136.gif\":\"AbUSqP.gif\",\"137.gif\":\"AbUCa8.gif\",\"138.gif\":\"AbUkGQ.gif\",\"139.gif\":\"AbUFPg.gif\",\"140.gif\":\"AbUPIS.gif\",\"141.gif\":\"AbUZMn.gif\",\"142.gif\":\"AbUExs.gif\",\"143.gif\":\"AbUA2j.gif\",\"144.gif\":\"AbUMIU.gif\",\"145.gif\":\"AbUerq.gif\",\"146.gif\":\"AbUKaT.gif\",\"147.gif\":\"AbUmq0.gif\",\"148.gif\":\"AbUuZV.gif\",\"149.gif\":\"AbUliF.gif\",\"150.gif\":\"AbU1G4.gif\",\"151.gif\":\"AbU8z9.gif\",\"152.gif\":\"AbU3RJ.gif\",\"153.gif\":\"AbUYs1.gif\",\"154.gif\":\"AbUJMR.gif\",\"155.gif\":\"AbUadK.gif\",\"156.gif\":\"AbUtqx.gif\",\"157.gif\":\"AbUUZ6.gif\",\"158.gif\":\"AbUBJe.gif\",\"159.gif\":\"AbUdIO.gif\",\"160.gif\":\"AbU0iD.gif\",\"161.gif\":\"AbUrzd.gif\",\"162.gif\":\"AbUDRH.gif\",\"163.gif\":\"AbUyQA.gif\",\"164.gif\":\"AbUWo8.gif\",\"165.gif\":\"AbU6sI.gif\",\"166.gif\":\"AbU2eP.gif\",\"167.gif\":\"AbUcLt.gif\",\"168.gif\":\"AbU4Jg.gif\",\"169.gif\":\"AbURdf.gif\",\"170.gif\":\"AbUhFS.gif\",\"171.gif\":\"AbU5WQ.gif\",\"172.gif\":\"AbULwV.gif\",\"173.gif\":\"AbUIzj.gif\",\"174.gif\":\"AbUTQs.gif\",\"175.gif\":\"AbU7yn.gif\",\"176.gif\":\"AbUqe0.gif\",\"177.gif\":\"AbUHLq.gif\",\"178.gif\":\"AbUOoT.gif\",\"179.gif\":\"AbUvYF.gif\",\"180.gif\":\"AbUjFU.gif\",\"181.gif\":\"AbaSSJ.gif\",\"182.gif\":\"AbUxW4.gif\",\"183.gif\":\"AbaCO1.gif\",\"184.gif\":\"Abapl9.gif\",\"185.gif\":\"Aba9yR.gif\",\"186.gif\":\"AbaFw6.gif\",\"187.gif\":\"Abaiex.gif\",\"188.gif\":\"AbakTK.gif\",\"189.gif\":\"AbaZfe.png\",\"190.gif\":\"AbaEFO.gif\",\"191.gif\":\"AbaVYD.gif\",\"192.gif\":\"AbamSH.gif\",\"193.gif\":\"AbaKOI.gif\",\"194.gif\":\"Abanld.gif\",\"195.gif\":\"Abau6A.gif\",\"196.gif\":\"AbaQmt.gif\",\"197.gif\":\"Abal0P.gif\",\"198.gif\":\"AbatpQ.gif\",\"199.gif\":\"Aba1Tf.gif\",\"200.png\":\"Aba8k8.png\",\"201.png\":\"AbaGtS.png\",\"202.png\":\"AbaJfg.png\",\"203.png\":\"AbaNlj.png\",\"204.png\":\"Abawmq.png\",\"205.png\":\"AbaU6s.png\",\"206.png\":\"AbaaXn.png\",\"207.png\":\"Aba000.png\",\"208.png\":\"AbarkT.png\",\"209.png\":\"AbastU.png\",\"210.png\":\"AbaB7V.png\",\"211.png\":\"Abafn1.png\",\"212.png\":\"Abacp4.png\",\"213.png\":\"AbayhF.png\",\"214.png\":\"Abag1J.png\",\"215.png\":\"Aba2c9.png\",\"216.png\":\"AbaRXR.png\",\"217.png\":\"Aba476.png\",\"218.png\":\"Abah0x.png\",\"219.png\":\"Abdg58.png\"},\n\t\t\t//红包相关参数\n\t\t\twindowsState:'',\n\t\t\tredenvelopeData:{\n\t\t\t\trid:null,\t//红包ID\n\t\t\t\tfrom:null,\n\t\t\t\tface:null,\n\t\t\t\tblessing:null,\n\t\t\t\tmoney:null\n\t\t\t}\n\t\t};\n\t},\n\tcomputed:{\n\t\t...mapState({\n\t\t\tcurrentMessageList:state=>state.currentMessageList,\n\t\t})\n\t},\n\twatch:{\n\t\tcurrentMessageList(newVal,oldVal){\n\t\t\tthis.msgList = newVal\n\t\t\tthis.screenMsg(newVal,oldVal)\n\t\t},\n\t},\n\tonLoad(option) {\n\t\tconsole.log(1)\n\t\tthis.headUrl = uni.getStorageSync('headUrl')\n\t\tconsole.log(11)\n\t\tthis.toUserId = this.$store.state.toUserId\n\t\tconsole.log(111)\n\t\tthis.conversationActive = this.$store.state.conversationActive\n\t\tconsole.log(1111)\n\t\tthis.TIM = this.$TIM\n\t\t//获取聊天对象的用户信息\n\t\tconsole.log(2)\n\t\tthis.toUserInfo = uni.getStorageSync(\"toUserInfo\")\n\t\tthis.getMsgList();\n\t\t//语音自然播放结束\n\t\tconsole.log(3)\n\t\tthis.AUDIO.onEnded((res)=>{\n\t\t\tthis.playMsgid=null;\n\t\t});\n\n\t\t//录音开始事件\n\t\tconsole.log(4)\n\t\tthis.RECORDER.onStart((e)=>{\n\t\t\tthis.recordBegin(e);\n\t\t})\n\t\t//录音结束事件\n\t\tconsole.log(5)\n\t\tthis.RECORDER.onStop((e)=>{\n\t\t\tthis.recordEnd(e);\n\t\t})\n\n\t},\n\tonShow(){\n\t\tthis.scrollTop = 9999999;\n\t},\n\tonUnload(){\n\t\t//退出页面 将所有的会话内的消息设置为已读\n\t\tlet promise = this.tim.setMessageRead({conversationID: this.conversationActive.conversationID});\n\t\tpromise.then(function(imResponse) {\n\t\t\tconsole.log('全部已读')\n\t\t  // 已读上报成功\n\t\t}).catch(function(imError) {\n\t\t  // 已读上报失败\n\t\t  console.warn('setMessageRead error:', imError);\n\t\t});\n\t},\n\tmethods:{\n\t\ttohomepage(userId){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/subscriber/homepage?userId='+userId\n\t\t\t});\t\n\t\t},\n\t\t//聊天的节点加上外层的div\n\t\tnodesFliter(str){\n\t\t\tlet nodeStr = '<div style=\"align-items: center;word-wrap:break-word;\">'+str+'</div>' \n\t\t\treturn nodeStr\n\t\t},\n\t\t//时间过滤\n\t\ttimeFliter(timer){\n\t\t\tlet timeData = new Date(timer*1000)\n\t\t\tlet str = this.$commen.dateTimeFliter(timeData)\t\t \n\t\t\treturn str\n\t\t},\n\t\t// 接受消息(定位消息)\n\t\tscreenMsg(newVal,oldVal){\n\t\t\tif(newVal[0].ID && oldVal[0].ID){\n\t\t\t\tif(newVal[0].ID != oldVal[0].ID && newVal.length>=this.count ){\n\t\t\t\t\tthis.$nextTick(()=> {this.scrollToView =oldVal[0].ID});\n\t\t\t\t}else{\n\t\t\t\t\tthis.$nextTick(()=> {this.scrollToView =newVal[newVal.length-1].ID});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.$nextTick(()=> {this.scrollToView =newVal[newVal.length-1].ID});\n\t\t\t}\n\t\t},\n\t\t//触发滑动到顶部(加载历史信息记录)\n\t\tloadHistory(e){\n\t\t\t\t// 更多消息列表\n\t\t\t\t\tlet conversationID = this.conversationActive.conversationID\n\t\t\t\t\tlet promise = this.tim.getMessageList({conversationID: conversationID,nextReqMessageID:this.nextReqMessageID,count: this.count});\n\t\t\t\t\tpromise.then((res)=> {\n\t\t\t\t\t  this.$store.commit('unshiftCurrentMessageList',  res.data.messageList)\n\t\t\t\t\t  this.nextReqMessageID =  res.data.nextReqMessageID // 用于续拉，分页续拉时需传入该字段。\n\t\t\t\t\t  this.isCompleted =  res.data.isCompleted\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t});\n\t\t\t\t//这段代码很重要，不然每次加载历史数据都会跳到顶部\n\t\t\t\tthis.$nextTick(function() {\n\t\t\t\t\tthis.scrollToView = this.nextReqMessageID;//跳转上次的第一行信息位置\n\t\t\t\t\tthis.$nextTick(function() {\n\t\t\t\t\t\tthis.scrollAnimation = true;//恢复滚动动画\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.isHistoryLoading = false;\n\t\t},\n\t\t// 加载初始页面消息\n\t\tgetMsgList(){\n\t\t\t// 历史消息列表\n\t\t\tconsole.log(\"getMsgListgetMsgListgetMsgListgetMsgListgetMsgListgetMsgListgetMsgList\")\n\t\t\t\tlet conversationID = this.conversationActive.conversationID\n\t\t\t\tlet promise = this.tim.getMessageList({conversationID: conversationID, count: this.count});\n\t\t\t\tpromise.then((res)=> {\n\t\t\t\t\tthis.$store.commit('pushCurrentMessageList',  res.data.messageList)\n\t\t\t\t  this.nextReqMessageID =  res.data.nextReqMessageID // 用于续拉，分页续拉时需传入该字段。\n\t\t\t\t  this.isCompleted =  res.data.isCompleted\n\t\t\t\t  console.log(res.data)\n\t\t\t\t  this.scrollToView = res.data.messageList[res.data.messageList.length-1].ID\n\t\t\t\t\tconsole.log(this.nextReqMessageID)\n\t\t\t\t});\n\t\t\t// 滚动到底部\n\n\t\t},\n\t\t//处理图片尺寸，如果不处理宽高，新进入页面加载图片时候会闪\n\t\tsetPicSize(content){\n\t\t\t// 让图片最长边等于设置的最大长度，短边等比例缩小，图片控件真实改变，区别于aspectFit方式。\n\t\t\tlet maxW = uni.upx2px(350);//350是定义消息图片最大宽度\n\t\t\tlet maxH = uni.upx2px(350);//350是定义消息图片最大高度\n\t\t\tif(content.w>maxW||content.h>maxH){\n\t\t\t\tlet scale = content.w/content.h;\n\t\t\t\tcontent.w = scale>1?maxW:maxH*scale;\n\t\t\t\tcontent.h = scale>1?maxW/scale:maxH;\n\t\t\t}\n\t\t\treturn content;\n\t\t},\n\t\t//更多功能(点击+弹出) \n\t\tshowMore(){\n\t\t\tthis.isVoice = false;\n\t\t\tthis.hideEmoji = true;\n\t\t\tif(this.hideMore){\n\t\t\t\tthis.hideMore = false;\n\t\t\t\tthis.openDrawer();\n\t\t\t}else{\n\t\t\t\tthis.hideDrawer();\n\t\t\t}\n\t\t},\n\t\t// 打开抽屉\n\t\topenDrawer(){\n\t\t\tthis.popupLayerClass = 'showLayer';\n\t\t},\n\t\t// 隐藏抽屉\n\t\thideDrawer(){\n\t\t\tthis.popupLayerClass = '';\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.hideMore = true;\n\t\t\t\tthis.hideEmoji = true;\n\t\t\t},150);\n\t\t},\n\t\t// 选择图片发送\n\t\tchooseImage(){\n\t\t\tthis.getImage('album');\n\t\t},\n\t\t//拍照发送\n\t\tcamera(){\n\t\t\tthis.getImage('camera');\n\t\t},\n\t\t//发红包\n\t\thandRedEnvelopes(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'HM-hand/HM-hand'\n\t\t\t});\n\t\t\tthis.hideDrawer();\n\t\t},\n\t\t//选照片 or 拍照\n\t\tgetImage(type){\n\t\t\tthis.hideDrawer();\n\t\t\tuni.chooseImage({\n\t\t\t\tsourceType:[type],\n\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsuccess: (res)=>{\n\t\t\t\t\tfor(let i=0;i<res.tempFilePaths.length;i++){\n\t\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\t\tsrc: res.tempFilePaths[i],\n\t\t\t\t\t\t\tsuccess: (image)=>{\n\t\t\t\t\t\t\t\tconsole.log(image.width);\n\t\t\t\t\t\t\t\tconsole.log(image.height);\n\t\t\t\t\t\t\t\tlet msg = {url:res.tempFilePaths[i],w:image.width,h:image.height};\n\t\t\t\t\t\t\t\tthis.sendMsg(msg,'img');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 选择表情\n\t\tchooseEmoji(){\n\t\t\tthis.hideMore = true;\n\t\t\tif(this.hideEmoji){\n\t\t\t\tthis.hideEmoji = false;\n\t\t\t\tthis.openDrawer();\n\t\t\t}else{\n\t\t\t\tthis.hideDrawer();\n\t\t\t}\n\t\t},\n\t\t//添加表情\n\t\taddEmoji(em){\n\t\t\tthis.textMsg+=em.alt;\n\t\t},\n\t\t\n\t\t//获取焦点，如果不是选表情ing,则关闭抽屉\n\t\ttextareaFocus(){\n\t\t\tif(this.popupLayerClass=='showLayer' && this.hideMore == false){\n\t\t\t\tthis.hideDrawer();\n\t\t\t}\n\t\t},\n\t\t// 发送文字消息\n\t\tsendText(){\n\t\t\tthis.hideDrawer();//隐藏抽屉\n\t\t\tif(!this.textMsg){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet content = this.replaceEmoji(this.textMsg);\n\t\t\tlet msg = {text:content}\n\t\t\tthis.sendMsg(msg,'text');\n\t\t\tthis.textMsg = '';//清空输入框\n\t\t},\n\t\t//替换表情符号为图片\n\t\treplaceEmoji(str){\n\t\t\tlet replacedStr = str.replace(/\\[([^(\\]|\\[)]*)\\]/g,(item, index)=>{\n\t\t\t\tconsole.log(\"item: \" + item);\n\t\t\t\tfor(let i=0;i<this.emojiList.length;i++){\n\t\t\t\t\tlet row = this.emojiList[i];\n\t\t\t\t\tfor(let j=0;j<row.length;j++){\n\t\t\t\t\t\tlet EM = row[j];\n\t\t\t\t\t\tif(EM.alt==item){\n\t\t\t\t\t\t\t//在线表情路径，图文混排必须使用网络路径，请上传一份表情到你的服务器后再替换此路径 \n\t\t\t\t\t\t\t//比如你上传服务器后，你的100.gif路径为https://www.xxx.com/emoji/100.gif 则替换onlinePath填写为https://www.xxx.com/emoji/\n\t\t\t\t\t\t\tlet onlinePath = 'https://s2.ax1x.com/2019/04/12/'\n\t\t\t\t\t\t\tlet imgstr = '<img src=\"'+onlinePath+this.onlineEmoji[EM.url]+'\">';\n\t\t\t\t\t\t\tconsole.log(\"imgstr: \" + imgstr);\n\t\t\t\t\t\t\treturn imgstr;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn replacedStr;\n\t\t},\n\t\t\n\t\t// 发送消息\n\t\tsendMsg(content,type){\n\t\t\tlet message = this.tim.createTextMessage({\n\t\t\t  to: this.toUserId,\n\t\t\t  conversationType: 'C2C',\n\t\t\t  payload: {\n\t\t\t    text: content.text\n\t\t\t  }\n\t\t\t});\t\n\t\t\tthis.$store.commit('pushCurrentMessageList', message)\n\t\t\tlet pomise = this.tim.sendMessage(message)\n\t\t\tpomise.then(res=>{\n\t\t\t\tthis.$nextTick(()=> {\n\t\t\t\t\t// 滚动到底\n\t\t\t\t\tthis.scrollToView = res.data.message.ID\n\t\t\t\t});\n\t\t\t})\t\n\t\t},\n\t\t\n\t\t// 添加文字消息到列表\n\t\taddTextMsg(msg){\n\t\t\tthis.msgList.push(msg);\n\t\t},\n\t\t// 添加语音消息到列表\n\t\taddVoiceMsg(msg){\n\t\t\tthis.msgList.push(msg);\n\t\t},\n\t\t// 添加图片消息到列表\n\t\taddImgMsg(msg){\n\t\t\tmsg.msg.content = this.setPicSize(msg.msg.content);\n\t\t\tthis.msgImgList.push(msg.msg.content.url);\n\t\t\tthis.msgList.push(msg);\n\t\t},\n\t\taddRedEnvelopeMsg(msg){\n\t\t\tthis.msgList.push(msg);\n\t\t},\n\t\t// 添加系统文字消息到列表\n\t\taddSystemTextMsg(msg){\n\t\t\tthis.msgList.push(msg);\n\t\t},\n\t\t// 添加系统红包消息到列表\n\t\taddSystemRedEnvelopeMsg(msg){\n\t\t\tthis.msgList.push(msg);\n\t\t},\n\t\t// 打开红包\n\t\topenRedEnvelope(msg,index){\n\t\t\tlet rid = msg.content.rid;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'加载中...'\n\t\t\t});\n\t\t\tconsole.log(\"index: \" + index);\n\t\t\t//模拟请求服务器效果\n\t\t\tsetTimeout(()=>{\n\t\t\t\t//加载数据\n\t\t\t\tif(rid==0){\n\t\t\t\t\tthis.redenvelopeData={\n\t\t\t\t\t\trid:0,\t//红包ID\n\t\t\t\t\t\tfrom:\"大黑哥\",\n\t\t\t\t\t\tface:\"/static/img/im/face/face.jpg\",\n\t\t\t\t\t\tblessing:\"恭喜发财，大吉大利\",\n\t\t\t\t\t\tmoney:\"已领完\"\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.redenvelopeData={\n\t\t\t\t\t\trid:1,\t//红包ID\n\t\t\t\t\t\tfrom:\"售后客服008\",\n\t\t\t\t\t\tface:\"/static/img/im/face/face_2.jpg\",\n\t\t\t\t\t\tblessing:\"恭喜发财\",\n\t\t\t\t\t\tmoney:\"0.01\"\n\t\t\t\t\t}\n\t\t\t\t\tif(!msg.content.isReceived){\n\t\t\t\t\t\t// {type:\"system\",msg:{id:8,type:\"redEnvelope\",content:{text:\"你领取了售后客服008的红包\"}}},\n\t\t\t\t\t\tthis.sendSystemMsg({text:\"你领取了\"+(msg.userinfo.uid==this.myuid?\"自己\":msg.userinfo.username)+\"的红包\"},'redEnvelope');\n\t\t\t\t\t\tconsole.log(\"this.msgList[index]: \" + JSON.stringify(this.msgList[index]));\n\t\t\t\t\t\tthis.msgList[index].msg.content.isReceived = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tuni.hideLoading();\n\t\t\t\tthis.windowsState = 'show';\n\t\t\t\t\n\t\t\t},200)\t\n\t\t},\n\t\t\n\t\t// 关闭红包弹窗\n\t\tcloseRedEnvelope(){\n\t\t\tthis.windowsState = 'hide';\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.windowsState = '';\n\t\t\t},200)\n\t\t},\n\t\tsendSystemMsg(content,type){\n\t\t\tlet lastid = this.msgList[this.msgList.length-1].msg.id;\n\t\t\tlastid++;\n\t\t\tlet row = {type:\"system\",msg:{id:lastid,type:type,content:content}};\n\t\t\tthis.screenMsg(row)\n\t\t},\n\t\t//领取详情\n\t\ttoDetails(rid){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'HM-details/HM-details?rid='+rid\n\t\t\t})\n\t\t},\n\t\t// 预览图片\n\t\tshowPic(msg){\n\t\t\tuni.previewImage({\n\t\t\t\tindicator:\"none\",\n\t\t\t\tcurrent:msg.content.url,\n\t\t\t\turls: this.msgImgList\n\t\t\t});\n\t\t},\n\t\t// 播放语音\n\t\tplayVoice(msg){\n\t\t\tthis.playMsgid=msg.id;\n\t\t\tthis.AUDIO.src = msg.content.url;\n\t\t\tthis.$nextTick(function() {\n\t\t\t\tthis.AUDIO.play();\n\t\t\t});\n\t\t},\n\t\t// 录音开始\n\t\tvoiceBegin(e){\n\t\t\tif(e.touches.length>1){\n\t\t\t\treturn ;\n\t\t\t}\n\t\t\tthis.initPoint.Y = e.touches[0].clientY;\n\t\t\tthis.initPoint.identifier = e.touches[0].identifier;\n\t\t\tthis.RECORDER.start({format:\"mp3\"});//录音开始,\n\t\t},\n\t\t//录音开始UI效果\n\t\trecordBegin(e){\n\t\t\tthis.recording = true;\n\t\t\tthis.voiceTis='松开 结束';\n\t\t\tthis.recordLength = 0;\n\t\t\tthis.recordTimer = setInterval(()=>{\n\t\t\t\tthis.recordLength++;\n\t\t\t},1000)\n\t\t},\n\t\t// 录音被打断\n\t\tvoiceCancel(){\n\t\t\tthis.recording = false;\n\t\t\tthis.voiceTis='按住 说话';\n\t\t\tthis.recordTis = '手指上滑 取消发送'\n\t\t\tthis.willStop = true;//不发送录音\n\t\t\tthis.RECORDER.stop();//录音结束\n\t\t},\n\t\t// 录音中(判断是否触发上滑取消发送)\n\t\tvoiceIng(e){\n\t\t\tif(!this.recording){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet touche = e.touches[0];\n\t\t\t//上滑一个导航栏的高度触发上滑取消发送\n\t\t\tif(this.initPoint.Y - touche.clientY>=uni.upx2px(100)){\n\t\t\t\tthis.willStop = true;\n\t\t\t\tthis.recordTis = '松开手指 取消发送'\n\t\t\t}else{\n\t\t\t\tthis.willStop = false;\n\t\t\t\tthis.recordTis = '手指上滑 取消发送'\n\t\t\t}\n\t\t},\n\t\t// 结束录音\n\t\tvoiceEnd(e){\n\t\t\tif(!this.recording){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.recording = false;\n\t\t\tthis.voiceTis='按住 说话';\n\t\t\tthis.recordTis = '手指上滑 取消发送'\n\t\t\tthis.RECORDER.stop();//录音结束\n\t\t},\n\t\t//录音结束(回调文件)\n\t\trecordEnd(e){\n\t\t\tclearInterval(this.recordTimer);\n\t\t\tif(!this.willStop){\n\t\t\t\tconsole.log(\"e: \" + JSON.stringify(e));\n\t\t\t\tlet msg = {\n\t\t\t\t\tlength:0,\n\t\t\t\t\turl:e.tempFilePath\n\t\t\t\t}\n\t\t\t\tlet min = parseInt(this.recordLength/60);\n\t\t\t\tlet sec = this.recordLength%60;\n\t\t\t\tmin = min<10?'0'+min:min;\n\t\t\t\tsec = sec<10?'0'+sec:sec;\n\t\t\t\tmsg.length = min+':'+sec;\n\t\t\t\tthis.sendMsg(msg,'voice');\n\t\t\t}else{\n\t\t\t\tconsole.log('取消发送录音');\n\t\t\t}\n\t\t\tthis.willStop = false;\n\t\t},\n\t\t// 切换语音/文字输入\n\t\tswitchVoice(){\n\t\t\tthis.hideDrawer();\n\t\t\tthis.isVoice = this.isVoice?false:true;\n\t\t},\n\t\tdiscard(){\n\t\t\treturn;\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./room.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./room.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}