(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subscriber/homepage"],{"0013":function(e,a,s){"use strict";(function(e,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o={data:function(){return{avaterUrl:"http://a3q.dns06.net.cn/15844990493147.jpeg",followName:"关注",userId:"",userName:"",mail:"",telephone:"",birthday:"",synopsis:"",tempsyn:"",field:"",fieldStr:"",sex:["女","男"],isfollowing:!1,sexIndex:-1,levelpercent:"",loading:!1,acctDetail:{},pay:999,income:555,isLogin:!1,assets:1e5,lastIncome:-25,userLevel:{},messageList:[{cuIcon:"redpacket",color:"alive",number:0,badge:0,url:"/pages/subscriber/user_say",name:"微博"},{cuIcon:"refund",color:"alive",number:0,badge:0,name:"关注"},{cuIcon:"present",color:"alive",number:0,badge:0,name:"粉丝"}],gridCol:3}},onLoad:function(a){var o=this;o.userId=a.userId,console.log(e(o.userId," at pages\\subscriber\\homepage.vue:144")),s.request({url:this.Server_IP+"userInformation",data:{userId:this.userId},header:{"custom-header":"userInformation"},method:"POST",dataType:"json",success:function(a){if(console.log(e(a.data," at pages\\subscriber\\homepage.vue:156")),"0"==a.data.info.code){if(o.userName=a.data.data.userName,o.mail=a.data.data.mail,o.telephone=a.data.data.telephone,o.sexIndex=a.data.data.sex,o.birthday=a.data.data.birthday,o.synopsis=a.data.data.synopsis,o.synopsis.length>9){var s=o.synopsis.substr(0,8);s+="  ...",o.tempsyn=o.synopsis,o.synopsis=s}console.log(e("获取用户信息成功"," at pages\\subscriber\\homepage.vue:170"))}else console.log(e("获取用户信息失败"," at pages\\subscriber\\homepage.vue:172"))},fail:function(){console.log(e("获取用户信息失败"," at pages\\subscriber\\homepage.vue:176"))}}),s.request({url:this.Server_IP+"queryField",data:{userId:this.userId},header:{"custom-header":"queryField"},method:"POST",dataType:"json",success:function(a){if(console.log(e(a.data," at pages\\subscriber\\homepage.vue:190")),"0"==a.data.info.code?(o.field=JSON.parse(a.data.data.field),console.log(e("获取用户喜好成功"," at pages\\subscriber\\homepage.vue:193"))):console.log(e("获取用户喜好失败"," at pages\\subscriber\\homepage.vue:195")),1==o.field.funny&&(o.fieldStr="娱乐"),1==o.field.anime&&(""==o.fieldStr?o.fieldStr="动漫":o.fieldStr+=",动漫"),1==o.field.news&&(""==o.fieldStr?o.fieldStr="新闻":o.fieldStr+=",新闻"),1==o.field.fashion&&(""==o.fieldStr?o.fieldStr="时尚":o.fieldStr+=",时尚"),1==o.field.motion&&(""==o.fieldStr?o.fieldStr="运动":o.fieldStr+=",运动"),1==o.field.science&&(""==o.fieldStr?o.fieldStr="科技":o.fieldStr+=",科技"),o.fieldStr.length>9){var s=o.fieldStr.substr(0,8);s+="  ...",o.fieldStr=s}},fail:function(){console.log(e("登录信息请求失败"," at pages\\subscriber\\homepage.vue:242"))}}),s.request({url:this.Server_IP+"followIm",data:{fansId:s.getStorageSync("userId"),userId:this.userId},header:{"custom-header":"followIm"},method:"POST",dataType:"json",success:function(a){console.log(e(a.data," at pages\\subscriber\\homepage.vue:257")),"0"==a.data.info.code?(o.messageList[1].number=+a.data.data.follow,o.messageList[2].number=+a.data.data.fans,0!=a.data.data.isfollowing&&(o.isfollowing=!0,o.followName="取关"),console.log(e("获取关注粉丝成功"," at pages\\subscriber\\homepage.vue:265"))):console.log(e("获取关注粉丝失败"," at pages\\subscriber\\homepage.vue:267"))},fail:function(){console.log(e("获取关注粉丝失败"," at pages\\subscriber\\homepage.vue:271"))}}),s.request({url:this.Server_IP+"sayNum",data:{userId:o.userId},header:{"custom-header":"sayNum"},method:"POST",dataType:"json",success:function(a){console.log(e(a.data," at pages\\subscriber\\homepage.vue:285")),"0"==a.data.info.code?(o.messageList[0].number=+a.data.data.num,console.log(e("获取微博数量成功"," at pages\\subscriber\\homepage.vue:288"))):console.log(e("获取微博数量失败"," at pages\\subscriber\\homepage.vue:290"))},fail:function(){console.log(e("获取微博数量失败"," at pages\\subscriber\\homepage.vue:294"))}})},methods:{follow:function(){var a=this;1==this.isfollowing?s.request({url:this.Server_IP+"delfollow",data:{fansId:s.getStorageSync("userId"),userId:this.userId},header:{"custom-header":"delfollow"},method:"POST",dataType:"json",success:function(s){console.log(e(s.data," at pages\\subscriber\\homepage.vue:314")),"0"==s.data.info.code?(a.messageList[2].number-=1,a.isfollowing=!1,a.followName="关注",console.log(e("取关成功"," at pages\\subscriber\\homepage.vue:319"))):console.log(e("取关失败"," at pages\\subscriber\\homepage.vue:321"))},fail:function(){console.log(e("取关失败"," at pages\\subscriber\\homepage.vue:325"))}}):s.request({url:this.Server_IP+"addfollow",data:{fansId:s.getStorageSync("userId"),userId:this.userId},header:{"custom-header":"addfollow"},method:"POST",dataType:"json",success:function(s){console.log(e(s.data," at pages\\subscriber\\homepage.vue:341")),"0"==s.data.info.code?(a.messageList[2].number+=1,a.isfollowing=!0,a.followName="取关",console.log(e("关注成功"," at pages\\subscriber\\homepage.vue:346"))):console.log(e("关注失败"," at pages\\subscriber\\homepage.vue:348"))},fail:function(){console.log(e("关注失败"," at pages\\subscriber\\homepage.vue:352"))}})},nextStep:function(a){s.request({url:this.Server_IP+"allsay",data:{userId:this.userId,loginUser:s.getStorageSync("userId")},header:{"custom-header":"allsay"},method:"POST",dataType:"json",success:function(a){console.log(e(a.data," at pages\\subscriber\\homepage.vue:370")),"0"==a.data.info.code?(console.log(e(a.data," at pages\\subscriber\\homepage.vue:372")),s.navigateTo({url:"/pages/subscriber/user_say?title=他的微博&sayList="+a.data.data.sayList})):console.log(e("获取微博失败"," at pages\\subscriber\\homepage.vue:377"))},fail:function(){console.log(e("获取微博失败"," at pages\\subscriber\\homepage.vue:381"))}})}}};a.default=o}).call(this,s("0de9")["default"],s("6e42")["default"])},"0a08":function(e,a,s){"use strict";var o=s("330e"),t=s.n(o);t.a},"130c":function(e,a,s){"use strict";s.r(a);var o=s("c0d3"),t=s("e24d");for(var r in t)"default"!==r&&function(e){s.d(a,e,function(){return t[e]})}(r);s("0a08");var u,n=s("f0c5"),l=Object(n["a"])(t["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);a["default"]=l.exports},"330e":function(e,a,s){},"42c0":function(e,a,s){"use strict";(function(e){s("1c35"),s("921b");o(s("66fd"));var a=o(s("130c"));function o(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,s("6e42")["createPage"])},c0d3:function(e,a,s){"use strict";var o,t=function(){var e=this,a=e.$createElement;e._self._c},r=[];s.d(a,"b",function(){return t}),s.d(a,"c",function(){return r}),s.d(a,"a",function(){return o})},e24d:function(e,a,s){"use strict";s.r(a);var o=s("0013"),t=s.n(o);for(var r in o)"default"!==r&&function(e){s.d(a,e,function(){return o[e]})}(r);a["default"]=t.a}},[["42c0","common/runtime","common/vendor"]]]);