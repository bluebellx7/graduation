(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personal/information"],{"0888":function(e,t,a){"use strict";(function(e){a("1c35"),a("921b");n(a("66fd"));var t=n(a("95fb"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])},2047:function(e,t,a){"use strict";var n=a("c2d1"),c=a.n(n);c.a},"95fb":function(e,t,a){"use strict";a.r(t);var n=a("e41a"),c=a("ed13");for(var o in c)"default"!==o&&function(e){a.d(t,e,function(){return c[e]})}(o);a("2047");var i,s=a("f0c5"),r=Object(s["a"])(c["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);t["default"]=r.exports},acb6:function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(a("9f11"));var c=o(a("0747"));function o(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{modalName:null,userName:"",fieldStr:"",mail:"",birthday:"1990-01-01",telephone:"",synopsis:"",sex:["女","男"],sexIndex:-1,captcha:"",captchaName:"修改邮箱",field:"",fieldbox:"",checkbox:[{value:0,name:"娱乐",alias:"funny",checked:0},{value:1,name:"动漫",alias:"anime",checked:0},{value:2,name:"新闻",alias:"news",checked:0},{value:3,name:"时尚",alias:"fashion",checked:0},{value:4,name:"运动",alias:"motion",checked:0},{value:5,name:"科技",alias:"science",checked:0}]}},onShow:function(t){console.log(e("加载信息界面"," at pages\\personal\\information.vue:134"));var a=this;if(a.userName=n.getStorageSync("userName"),a.mail=n.getStorageSync("mail"),a.birthday=n.getStorageSync("birthday"),a.telephone=n.getStorageSync("telephone"),a.synopsis=n.getStorageSync("synopsis"),a.field=n.getStorageSync("field"),a.sexIndex=n.getStorageSync("sex"),1==a.field.funny&&(a.checkbox[0].checked=1,a.fieldStr="娱乐"),1==a.field.anime&&(a.checkbox[1].checked=1,""==a.fieldStr?a.fieldStr="动漫":a.fieldStr+=",动漫"),1==a.field.news&&(a.checkbox[2].checked=1,""==a.fieldStr?a.fieldStr="新闻":a.fieldStr+=",新闻"),1==a.field.fashion&&(a.checkbox[3].checked=1,""==a.fieldStr?a.fieldStr="时尚":a.fieldStr+=",时尚"),1==a.field.motion&&(a.checkbox[4].checked=1,""==a.fieldStr?a.fieldStr="运动":a.fieldStr+=",运动"),1==a.field.science&&(a.checkbox[5].checked=1,""==a.fieldStr?a.fieldStr="科技":a.fieldStr+=",科技"),a.fieldStr.length>9){var c=a.fieldStr.substr(0,8);c+="  ...",a.fieldStr=c}console.log(e(a.fieldStr," at pages\\personal\\information.vue:192")),a.fieldbox=checkbox,""==a.mail&&(a.captchaName="绑定邮箱")},methods:{ChooseCheckbox:function(e){for(var t="",a=this.checkbox,n=e.currentTarget.dataset.value,c=0,o=a.length;c<o;++c)if(a[c].value==n){1==a[c].checked?a[c].checked=0:a[c].checked=1;break}for(var i=0,s=a.length;i<s;++i)1==a[i].checked&&(""==t?t=a[i].name:t+=","+a[i].name);if(t.length>9){var r=t.substr(0,8);r+="  ...",t=r}this.fieldStr=t},showModal:function(e){this.modalName=e.currentTarget.dataset.target},hideModal:function(e){this.modalName=null},sexChange:function(e){this.sexIndex=e.detail.value},DateChange:function(e){this.birthday=e.detail.value},changemail:function(){n.navigateTo({url:"./changemail?mail="+this.mail})},change:function(){var t=this,a=this,o=[{name:"userName",checkType:"string",checkRule:"0,16",errorMsg:"昵称过长"},{name:"synopsis",checkType:"string",checkRule:"0,254",errorMsg:"简介过长"},{name:"telephone",checkType:"phoneno",checkRule:"",errorMsg:"手机号格式不正确"}],i=c.default.check(a,o);i?(console.log(e(this.birthday," at pages\\personal\\information.vue:280")),n.request({url:this.Server_IP+"changeInformation",data:{userId:n.getStorageSync("userId"),funny:this.checkbox[0].checked,anime:this.checkbox[1].checked,news:this.checkbox[2].checked,fashion:this.checkbox[3].checked,motion:this.checkbox[4].checked,science:this.checkbox[5].checked,userName:this.userName,telephone:this.telephone,birthday:this.birthday,synopsis:this.synopsis,sex:this.sexIndex},header:{"custom-header":"changeInformation"},method:"POST",dataType:"json",success:function(a){if(console.log(e(a.data," at pages\\personal\\information.vue:303")),"0"==a.data.info.code){n.setStorageSync("userId",a.data.data.userId),console.log(e("成功"," at pages\\personal\\information.vue:306"));for(var c=t.field,o=t.checkbox,i=0,s=o.length;i<s;++i)c[o[i].alias]=o[i].checked;n.setStorageSync("field",c),n.setStorageSync("userName",t.userName),n.setStorageSync("telephone",t.telephone),n.setStorageSync("sex",t.sex),n.setStorageSync("birthday",t.birthday),n.setStorageSync("synopsis",t.synopsis),n.showToast({icon:"none",title:"信息修改成功"})}else console.log(e(a.data.info.message," at pages\\personal\\information.vue:324")),n.showToast({icon:"none",title:a.data.info.message})}})):n.showToast({title:c.default.error,icon:"none"})}}};t.default=i}).call(this,a("0de9")["default"],a("6e42")["default"])},c2d1:function(e,t,a){},e41a:function(e,t,a){"use strict";var n,c=function(){var e=this,t=e.$createElement;e._self._c},o=[];a.d(t,"b",function(){return c}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return n})},ed13:function(e,t,a){"use strict";a.r(t);var n=a("acb6"),c=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);t["default"]=c.a}},[["0888","common/runtime","common/vendor"]]]);