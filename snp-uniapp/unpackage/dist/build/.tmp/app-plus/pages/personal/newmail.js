(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personal/newmail"],{"03d1":function(e,a,t){"use strict";(function(e,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;c(t("9f11"));var n=c(t("0747"));function c(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{previousmail:"",previouscode:"",mail:"",code:"",captchaFlag:!0,captchaName:"获取验证码",captchaTime:60}},onLoad:function(a){this.previousmail=e.getStorageSync("mail"),this.previouscode=a.code},methods:{getCaptcha:function(){var a=this,t=this,c=[{name:"mail",checkType:"notnull",errorMsg:"请输入邮箱"},{name:"mail",checkType:"email",errorMsg:"邮箱格式错误"},{name:"mail",checkType:"notsame",checkRule:t.previousmail,errorMsg:"新邮箱和旧邮箱一致，无法获取"}],i=n.default.check(t,c);if(!i)return e.showToast({title:n.default.error,icon:"none"}),void(t.isFocus=!0);e.request({url:this.Server_IP+"queryMail",data:{mail:this.mail},header:{"custom-header":"queryMail"},method:"POST",dataType:"json",success:function(n){if(console.log(o(n.data," at pages\\personal\\newmail.vue:91")),"0"==n.data.info.code){console.log(o(n.data.data.userId," at pages\\personal\\newmail.vue:94")),console.log(o("成功"," at pages\\personal\\newmail.vue:95")),t.captchaFlag=!1,t.captchaShow=!0;var c=setInterval(function(){--t.captchaTime},1e3);setTimeout(function(){clearInterval(c),t.captchaFlag=!0,t.captchaTime=60},6e4),console.log(o(a.mail," at pages\\personal\\newmail.vue:105")),e.request({url:a.Server_IP+"mailcode",data:{mail:a.mail},header:{"custom-header":"mailcode"},method:"POST",dataType:"json",success:function(a){console.log(o(a.data," at pages\\personal\\newmail.vue:118")),"0"==a.data.info.code?(console.log(o(a.data.data.userId," at pages\\personal\\newmail.vue:121")),console.log(o("成功"," at pages\\personal\\newmail.vue:122")),e.showToast({icon:"none",title:"验证码发送成功，此邮件可能被归类到垃圾箱中，请注意"})):e.showToast({icon:"none",title:a.data.info.message})}})}else e.showToast({icon:"none",title:n.data.info.message})}})},determine:function(){var a=this,t=this,c=[{name:"code",checkType:"notnull",errorMsg:"请输入验证码"},{name:"code",checkType:"string",checkRule:"6",errorMsg:"验证码为6个字符"}],i=n.default.check(t,c);if(!i)return e.showToast({title:n.default.error,icon:"none"}),void(t.isFocus=!0);e.request({url:this.Server_IP+"checkNewMailCode",data:{mail:this.mail,code:this.code,previousmail:this.previousmail,previouscode:this.previouscode,userId:e.getStorageSync("userId")},header:{"custom-header":"checkNewMailCode"},method:"POST",dataType:"json",success:function(t){console.log(o(t.data," at pages\\personal\\newmail.vue:187")),"0"==t.data.info.code?(console.log(o("验证码正确"," at pages\\personal\\newmail.vue:189")),e.setStorageSync("mail",a.mail),e.navigateBack({delta:2}),e.showToast({icon:"none",title:"修改成功"})):(console.log(o("失败"," at pages\\personal\\newmail.vue:199")),e.showToast({icon:"none",title:t.data.info.message}))}})}}};a.default=i}).call(this,t("6e42")["default"],t("0de9")["default"])},"1f9d":function(e,a,t){"use strict";var o=t("a271"),n=t.n(o);n.a},"5d99":function(e,a,t){"use strict";t.r(a);var o=t("b9f7"),n=t("d6a9");for(var c in n)"default"!==c&&function(e){t.d(a,e,function(){return n[e]})}(c);t("1f9d");var i,s=t("f0c5"),l=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);a["default"]=l.exports},"7d07":function(e,a,t){"use strict";(function(e){t("1c35"),t("921b");o(t("66fd"));var a=o(t("5d99"));function o(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},a271:function(e,a,t){},b9f7:function(e,a,t){"use strict";var o,n=function(){var e=this,a=e.$createElement;e._self._c},c=[];t.d(a,"b",function(){return n}),t.d(a,"c",function(){return c}),t.d(a,"a",function(){return o})},d6a9:function(e,a,t){"use strict";t.r(a);var o=t("03d1"),n=t.n(o);for(var c in o)"default"!==c&&function(e){t.d(a,e,function(){return o[e]})}(c);a["default"]=n.a}},[["7d07","common/runtime","common/vendor"]]]);