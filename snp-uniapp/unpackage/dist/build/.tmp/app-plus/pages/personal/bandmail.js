(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personal/bandmail"],{"09c6":function(e,a,t){},"1ea9":function(e,a,t){"use strict";t.r(a);var o=t("ad16"),n=t("c290");for(var c in n)"default"!==c&&function(e){t.d(a,e,function(){return n[e]})}(c);t("899c");var s,i=t("f0c5"),l=Object(i["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);a["default"]=l.exports},"899c":function(e,a,t){"use strict";var o=t("09c6"),n=t.n(o);n.a},ad16:function(e,a,t){"use strict";var o,n=function(){var e=this,a=e.$createElement;e._self._c},c=[];t.d(a,"b",function(){return n}),t.d(a,"c",function(){return c}),t.d(a,"a",function(){return o})},b65b:function(e,a,t){"use strict";(function(e,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;c(t("9f11"));var n=c(t("0747"));function c(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{previousmail:"",previouscode:"",mail:"",code:"",captchaFlag:!0,captchaName:"获取验证码",captchaTime:60}},onLoad:function(a){this.previousmail=e.getStorageSync("mail"),this.previouscode=a.code},methods:{getCaptcha:function(){var a=this,t=this,c=[{name:"mail",checkType:"notnull",errorMsg:"请输入邮箱"},{name:"mail",checkType:"email",errorMsg:"邮箱格式错误"},{name:"mail",checkType:"notsame",checkRule:t.previousmail,errorMsg:"新邮箱和旧邮箱一致，无法获取"}],s=n.default.check(t,c);if(!s)return e.showToast({title:n.default.error,icon:"none"}),void(t.isFocus=!0);e.request({url:this.Server_IP+"queryMail",data:{mail:this.mail},header:{"custom-header":"queryMail"},method:"POST",dataType:"json",success:function(n){if(console.log(o(n.data," at pages\\personal\\bandmail.vue:89")),"0"==n.data.info.code){console.log(o(n.data.data.userId," at pages\\personal\\bandmail.vue:92")),console.log(o("成功"," at pages\\personal\\bandmail.vue:93")),t.captchaFlag=!1,t.captchaShow=!0;var c=setInterval(function(){--t.captchaTime},1e3);setTimeout(function(){clearInterval(c),t.captchaFlag=!0,t.captchaTime=60},6e4),console.log(o(a.mail," at pages\\personal\\bandmail.vue:103")),e.request({url:a.Server_IP+"mailcode",data:{mail:a.mail},header:{"custom-header":"mailcode"},method:"POST",dataType:"json",success:function(a){console.log(o(a.data," at pages\\personal\\bandmail.vue:116")),"0"==a.data.info.code?(console.log(o(a.data.data.userId," at pages\\personal\\bandmail.vue:119")),console.log(o("成功"," at pages\\personal\\bandmail.vue:120")),e.showToast({icon:"none",title:"验证码发送成功，此邮件可能被归类到垃圾箱中，请注意"})):e.showToast({icon:"none",title:a.data.info.message})}})}else e.showToast({icon:"none",title:n.data.info.message})}})},determine:function(){var a=this,t=this,c=[{name:"code",checkType:"notnull",errorMsg:"请输入验证码"},{name:"code",checkType:"string",checkRule:"6",errorMsg:"验证码为6个字符"}],s=n.default.check(t,c);if(!s)return e.showToast({title:n.default.error,icon:"none"}),void(t.isFocus=!0);e.request({url:this.Server_IP+"bandmail",data:{mail:this.mail,code:this.code,userId:e.getStorageSync("userId")},header:{"custom-header":"bandmail"},method:"POST",dataType:"json",success:function(t){console.log(o(t.data," at pages\\personal\\bandmail.vue:183")),"0"==t.data.info.code?(console.log(o("验证码正确"," at pages\\personal\\bandmail.vue:185")),e.setStorageSync("mail",a.mail),e.navigateBack({delta:1}),e.showToast({icon:"none",title:"修改成功"})):(console.log(o("失败"," at pages\\personal\\bandmail.vue:195")),e.showToast({icon:"none",title:t.data.info.message}))}})}}};a.default=s}).call(this,t("6e42")["default"],t("0de9")["default"])},c290:function(e,a,t){"use strict";t.r(a);var o=t("b65b"),n=t.n(o);for(var c in o)"default"!==c&&function(e){t.d(a,e,function(){return o[e]})}(c);a["default"]=n.a},ea2c:function(e,a,t){"use strict";(function(e){t("1c35"),t("921b");o(t("66fd"));var a=o(t("1ea9"));function o(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])}},[["ea2c","common/runtime","common/vendor"]]]);